<?php if (!defined("BASEPATH")) exit("No direct script access allowed");
/**
 * XBroadcastTemplateSectionManager
 * This class has been auto-generated by Itirra
 */
require_once APPPATH . 'logic/base/BaseManager.php';
class XBroadcastTemplateSectionManager extends BaseManager {

  /** Order by */
  protected $orderBy = "priority DESC";

  /** Fields. */
  public $fields = array("name" => array("type" => "input", "class" => "required", "attrs" => array("maxlength" => 255)),
                         "template" => array("type" => "select", "class" => "required", "relation" => array("entity_name" => "XBroadcastTemplate")),
                         "priority" => array("type" => "input_integer"),
                         "soft_deleted" => array("type" => "checkbox"));

  /** List params. */
  public $listParams = array("name", "template.name", "priority");

  /**
   * GetDQLSelectQuery.
   * @param string $what
   * @param string $pref
   * @return Doctrine_Query
   */
  protected function getDQLSelectQuery($what = '*', $pref = 'e') {
    $query = parent::getDQLSelectQuery($what, $pref);
    $query->addWhere('e.soft_deleted = ?', FALSE);
    return $query;
  }

}