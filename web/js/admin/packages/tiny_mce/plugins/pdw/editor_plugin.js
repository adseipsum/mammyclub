(function(){var a=tinymce.DOM;tinymce.PluginManager.requireLangPack("pdw");tinymce.create("tinymce.plugins.pdw",{init:function(b,g){var k=this,f=[],d=[],l;d=b.settings.pdw_toggle_toolbars.split(",");for(l=0;l<d.length;l++){f[l]=b.getParam("","toolbar"+d[l].replace(" ",""))}b.addCommand("mcePDWToggleToolbars",function(){var n=b.controlManager,e,j,h=tinymce.util.Cookie,i,c=h.getHash("TinyMCE_toggle")||{};for(j=0;j<f.length;j++){obj=b.controlManager.get(f[j]);if(typeof obj!="undefined"){e=obj.id;if(a.isHidden(e)){i=0;a.show(e);k._resizeIframe(b,f[j],-26)}else{i=1;a.hide(e);k._resizeIframe(b,f[j],26)}}}n.setActive("pdw_toggle",i);b.settings.pdw_toggle_on=i;c[b.id]=i;h.setHash("TinyMCE_toggle",c)});b.addButton("pdw_toggle",{title:b.getLang("pdw.desc",0),cmd:"mcePDWToggleToolbars",image:g+"/img/toolbars.gif"});b.onPostRender.add(function(){var e=tinymce.util.Cookie.getHash("TinyMCE_toggle")||{},c=false;if(e[b.id]==null){c=b.settings.pdw_toggle_on==1?true:false}else{if(e[b.id]==1){c=true}}if(c){e=b.controlManager;for(l=0;l<d.length;l++){tbId=b.getParam("","toolbar"+d[l].replace(" ",""));c=b.controlManager.get(tbId).id;e.setActive("pdw_toggle",1);a.hide(c);k._resizeIframe(b,tbId,26)}}})},_resizeIframe:function(b,c,d){c=b.getContentAreaContainer().firstChild;a.setStyle(c,"height",a.getSize(c).h+d);b.theme.deltaHeight+=d},getInfo:function(){return{longname:"PDW Toggle Toolbars",author:"Guido Neele",authorurl:"http://www.neele.name/",infourl:"http://www.neele.name/pdw_toggle_toolbars",version:"1.2"}}});tinymce.PluginManager.add("pdw",tinymce.plugins.pdw)})();