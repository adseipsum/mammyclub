tinymce.ThemeManager.add("modern",function(x){function C(){function c(e){var h,f=[];if(e){return y(e.split(/[ ,]/),function(m){function l(){var o=x.selection;"bullist"==n&&o.selectorChanged("ul > li",function(s,r){for(var u,t=r.parents.length;t--&&(u=r.parents[t].nodeName,"OL"!=u&&"UL"!=u);){}m.active(s&&"UL"==u)}),"numlist"==n&&o.selectorChanged("ol > li",function(s,r){for(var u,t=r.parents.length;t--&&(u=r.parents[t].nodeName,"OL"!=u&&"UL"!=u);){}m.active(s&&"OL"==u)}),m.settings.stateSelector&&o.selectorChanged(m.settings.stateSelector,function(i){m.active(i)},!0),m.settings.disabledStateSelector&&o.selectorChanged(m.settings.disabledStateSelector,function(i){m.disabled(i)})}var n;"|"==m?h=null:z.has(m)?(m={type:m},B.toolbar_items_size&&(m.size=B.toolbar_items_size),f.push(m),h=null):(h||(h={type:"buttongroup",items:[]},f.push(h)),x.buttons[m]&&(n=m,m=x.buttons[n],"function"==typeof m&&(m=m()),m.type=m.type||"button",B.toolbar_items_size&&(m.size=B.toolbar_items_size),m=z.create(m),h.items.push(m),x.initialized?l():x.on("init",l)))}),a.push({type:"toolbar",layout:"flow",items:f}),!0}}var a=[];if(tinymce.isArray(B.toolbar)){if(0===B.toolbar.length){return}tinymce.each(B.toolbar,function(h,f){B["toolbar"+(f+1)]=h}),delete B.toolbar}for(var d=1;10>d&&c(B["toolbar"+d]);d++){}return a.length||B.toolbar===!1||c(B.toolbar||w),a.length?{type:"panel",layout:"stack",classes:"toolbar-grp",ariaRoot:!0,ariaRemember:!0,items:a}:void 0}function q(){function f(l){var a;return"|"==l?{text:"|"}:a=x.menuItems[l]}function e(G){var K,J,I,F,H;if(H=tinymce.makeMap((B.removed_menuitems||"").split(/[ ,]/)),B.menu?(J=B.menu[G],F=!0):J=v[G],J){K={text:J.title},I=[],y((J.items||"").split(/[ ,]/),function(l){var a=f(l);a&&!H[l]&&I.push(f(l))}),F||y(x.menuItems,function(a){a.context==G&&("before"==a.separator&&I.push({text:"|"}),a.prependToContext?I.unshift(a):I.push(a),"after"==a.separator&&I.push({text:"|"}))});for(var t=0;t<I.length;t++){"|"==I[t].text&&(0===t||t==I.length-1)&&I.splice(t,1)}if(K.menu=I,!K.menu.length){return null}}return K}var E,u=[],m=[];if(B.menu){for(E in B.menu){m.push(E)}}else{for(E in v){m.push(E)}}for(var d="string"==typeof B.menubar?B.menubar.split(/[ ,]/):m,h=0;h<d.length;h++){var c=d[h];c=e(c),c&&u.push(c)}return u}function j(c){function a(f){var d=c.find(f)[0];d&&d.focus(!0)}x.shortcuts.add("Alt+F9","",function(){a("menubar")}),x.shortcuts.add("Alt+F10","",function(){a("toolbar")}),x.shortcuts.add("Alt+F11","",function(){a("elementpath")}),c.on("cancel",function(){x.focus()})}function g(e,d){function m(a){return{width:a.clientWidth,height:a.clientHeight}}var l,h,c,f;l=x.getContainer(),h=x.getContentAreaContainer().firstChild,c=m(l),f=m(h),null!==e&&(e=Math.max(B.min_width||100,e),e=Math.min(B.max_width||65535,e),k.setStyle(l,"width",e+(c.width-f.width)),k.setStyle(h,"width",e)),d=Math.max(B.min_height||100,d),d=Math.min(B.max_height||65535,d),k.setStyle(h,"height",d),x.fire("ResizeEditor")}function b(c,a){var d=x.getContentAreaContainer();p.resizeTo(d.clientWidth+c,d.clientHeight+a)}function A(t){function l(){if(e&&e.moveRel&&e.visible()&&!e._fixed){var h=x.selection.getScrollContainer(),f=x.getBody(),E=0,u=0;if(h){var s=k.getPos(f),d=k.getPos(h);E=Math.max(0,d.x-s.x),u=Math.max(0,d.y-s.y)}e.fixed(!1).moveRel(f,x.rtl?["tr-br","br-tr"]:["tl-bl","bl-tl","tr-br"]).moveBy(E,u)}}function c(){e&&(e.show(),l(),k.addClass(x.getBody(),"mce-edit-focus"))}function i(){e&&(e.hide(),k.removeClass(x.getBody(),"mce-edit-focus"))}function n(){return e?void (e.visible()||c()):(e=p.panel=z.create({type:m?"panel":"floatpanel",role:"application",classes:"tinymce tinymce-inline",layout:"flex",direction:"column",align:"stretch",autohide:!1,autofix:!0,fixed:!!m,border:1,items:[B.menubar===!1?null:{type:"menubar",border:"0 0 1 0",items:q()},C()]}),x.fire("BeforeRenderUI"),e.renderTo(m||document.body).reflow(),j(e),c(),x.on("nodeChange",l),x.on("activate",c),x.on("deactivate",i),void x.nodeChanged())}var e,m;return B.fixed_toolbar_container&&(m=k.select(B.fixed_toolbar_container)[0]),B.content_editable=!0,x.on("focus",function(){t.skinUiCss?tinymce.DOM.styleSheetLoader.load(t.skinUiCss,n,n):n()}),x.on("blur hide",i),x.on("remove",function(){e&&(e.remove(),e=null)}),t.skinUiCss&&tinymce.DOM.styleSheetLoader.load(t.skinUiCss),{}}function D(f){var c,e,h;return f.skinUiCss&&tinymce.DOM.loadCSS(f.skinUiCss),c=p.panel=z.create({type:"panel",role:"application",classes:"tinymce",style:"visibility: hidden",layout:"stack",border:1,items:[B.menubar===!1?null:{type:"menubar",border:"0 0 1 0",items:q()},C(),{type:"panel",name:"iframe",layout:"stack",classes:"edit-area",html:"",border:"1 0 0 0"}]}),B.resize!==!1&&(e={type:"resizehandle",direction:B.resize,onResizeStart:function(){var a=x.getContentAreaContainer().firstChild;h={width:a.clientWidth,height:a.clientHeight}},onResize:function(a){"both"==B.resize?g(h.width+a.deltaX,h.height+a.deltaY):g(null,h.height+a.deltaY)}}),B.statusbar!==!1&&c.add({type:"panel",name:"statusbar",classes:"statusbar",layout:"flow",border:"1 0 0 0",ariaRoot:!0,items:[{type:"elementpath"},e]}),B.readonly&&c.find("*").disabled(!0),x.fire("BeforeRenderUI"),c.renderBefore(f.targetNode).reflow(),B.width&&tinymce.DOM.setStyle(c.getEl(),"width",B.width),x.on("remove",function(){c.remove(),c=null}),j(c),{iframeContainer:c.find("#iframe")[0].getEl(),editorContainer:c.getEl()}}var p=this,B=x.settings,z=tinymce.ui.Factory,y=tinymce.each,k=tinymce.DOM,v={file:{title:"File",items:"newdocument"},edit:{title:"Edit",items:"undo redo | cut copy paste pastetext | selectall"},insert:{title:"Insert",items:"|"},view:{title:"View",items:"visualaid |"},format:{title:"Format",items:"bold italic underline strikethrough superscript subscript | formats | removeformat"},table:{title:"Table"},tools:{title:"Tools"}},w="undo redo | styleselect | bold italic | alignleft aligncenter alignright alignjustify | bullist numlist outdent indent | link image";p.renderUI=function(c){var a=B.skin!==!1?B.skin||"lightgray":!1;if(a){var d=B.skin_url;d=d?x.documentBaseURI.toAbsolute(d):tinymce.baseURL+"/skins/"+a,c.skinUiCss=tinymce.Env.documentMode<=7?d+"/skin.ie7.min.css":d+"/skin.min.css",x.contentCSS.push(d+"/content"+(x.inline?".inline":"")+".min.css")}return x.on("ProgressState",function(f){p.throbber=p.throbber||new tinymce.ui.Throbber(p.panel.getEl("body")),f.state?p.throbber.show(f.time):p.throbber.hide()}),B.inline?A(c):D(c)},p.resizeTo=g,p.resizeBy=b});