(function(f){var b=f.separator||"&";var h=f.spaces===true?true:false;var d=f.suffix===false?"":"[]";var a=f.prefix===false?false:true;var c=a?f.hash===true?"#":"?":"";var g=f.numbers===true?true:false;jQuery.query=new function(){var m=function(n,i){return n!=undefined&&n!==null&&(!!i?n.constructor==i:true)};var l=function(v){var p,w=/\[([^[]*)\]/g,u=/^([^[]+)(\[.*\])?$/.exec(v),o=u[1],q=[];while(p=w.exec(u[2])){q.push(p[1])}return[o,q]};var k=function(p,y,v){var q,x=y.shift();if(typeof p!="object"){p=null}if(x===""){if(!p){p=[]}if(m(p,Array)){p.push(y.length==0?v:k(null,y.slice(0),v))}else{if(m(p,Object)){var i=0;while(p[i++]!=null){}p[--i]=y.length==0?v:k(p[i],y.slice(0),v)}else{p=[];p.push(y.length==0?v:k(null,y.slice(0),v))}}}else{if(x&&x.match(/^\s*[0-9]+\s*$/)){var e=parseInt(x,10);if(!p){p=[]}p[e]=y.length==0?v:k(p[e],y.slice(0),v)}else{if(x){var e=x.replace(/^\s*|\s*$/g,"");if(!p){p={}}if(m(p,Array)){var w={};for(var i=0;i<p.length;++i){w[i]=p[i]}p=w}p[e]=y.length==0?v:k(p[e],y.slice(0),v)}else{return v}}}return p};var j=function(n){var i=this;i.keys={};if(n.queryObject){jQuery.each(n.get(),function(o,p){i.SET(o,p)})}else{jQuery.each(arguments,function(){var o=""+this;o=o.replace(/^[?#]/,"");o=o.replace(/[;&]$/,"");if(h){o=o.replace(/[+]/g," ")}jQuery.each(o.split(/[&;]/),function(){var q=decodeURIComponent(this.split("=")[0]||"");try{var s=decodeURIComponent(this.split("=")[1]||"")}catch(p){console.log(p)}if(!q){return}if(g){if(/^[+-]?[0-9]+\.[0-9]*$/.test(s)){s=parseFloat(s)}else{if(/^[+-]?[0-9]+$/.test(s)){s=parseInt(s,10)}}}s=!s&&s!==0?true:s;if(s!==false&&s!==true&&typeof s!="number"){s=s}i.SET(q,s)})})}return i};j.prototype={queryObject:true,has:function(e,o){var i=this.get(e);return m(i,o)},GET:function(p){if(!m(p)){return this.keys}var u=l(p),e=u[0],q=u[1];var r=this.keys[e];while(r!=null&&q.length!=0){r=r[q.shift()]}return typeof r=="number"?r:r||""},get:function(e){var i=this.GET(e);if(m(i,Object)){return jQuery.extend(true,{},i)}else{if(m(i,Array)){return i.slice(0)}}return i},SET:function(p,w){var q=!m(w)?null:w;var v=l(p),i=v[0],e=v[1];var r=this.keys[i];this.keys[i]=k(r,e.slice(0),q);return this},set:function(n,i){return this.copy().SET(n,i)},REMOVE:function(i){return this.SET(i,null).COMPACT()},remove:function(i){return this.copy().REMOVE(i)},EMPTY:function(){var i=this;jQuery.each(i.keys,function(e,o){delete i.keys[e]});return i},load:function(o){var i=o.replace(/^.*?[#](.+?)(?:\?.+)?$/,"$1");var p=o.replace(/^.*?[?](.+?)(?:#.+)?$/,"$1");return new j(o.length==p.length?"":p,o.length==i.length?"":i)},empty:function(){return this.copy().EMPTY()},copy:function(){return new j(this)},COMPACT:function(){function e(q){var p=typeof q=="object"?m(q,Array)?[]:{}:q;if(typeof q=="object"){function o(i,u,s){if(m(i,Array)){i.push(s)}else{i[u]=s}}jQuery.each(q,function(r,i){if(!m(i)){return true}o(p,r,e(i))})}return p}this.keys=e(this.keys);return this},compact:function(){return this.copy().COMPACT()},toString:function(){var s=0,q=[],v=[],p=this;var n=function(i){i=i+"";if(h){i=i.replace(/ /g,"+")}return encodeURIComponent(i)};var t=function(u,x,w){if(!m(w)||w===false){return}var o=[n(x)];if(w!==true){o.push("=");o.push(n(w))}u.push(o.join(""))};var e=function(o,i){var r=function(u){return !i||i==""?[u].join(""):[i,"[",u,"]"].join("")};jQuery.each(o,function(w,u){if(typeof u=="object"){e(u,r(w))}else{t(v,r(w),u)}})};e(this.keys);if(v.length>0){q.push(c)}q.push(v.join(b));return q.join("")}};return new j(location.search,location.hash)}})(jQuery.query||{});